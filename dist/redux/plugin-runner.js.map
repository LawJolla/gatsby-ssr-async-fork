{"version":3,"sources":["../../src/redux/plugin-runner.js"],"names":["require","store","emitter","apiRunnerNode","_","on","node","getState","nodes","action","payload","id","traceId","page","plugin","name","layout"],"mappings":";;AAAA;;eAE2BA,QAAS,SAAT,C;IAAnBC,K,YAAAA,K;IAAOC,O,YAAAA,O;;AACf,IAAMC,gBAAgBH,QAAS,0BAAT,CAAtB;AACA,IAAMI,IAAIJ,QAAS,QAAT,CAAV;;AAEAE,QAAQG,EAAR,CAAY,aAAZ,EAA0B,kBAAU;AAClC,MAAMC,OAAOL,MAAMM,QAAN,GAAiBC,KAAjB,CAAuBC,OAAOC,OAAP,CAAeC,EAAtC,CAAb;AACAR,gBAAe,cAAf,EAA8B,EAAEG,IAAF,EAAQM,SAASH,OAAOG,OAAxB,EAA9B;AACD,CAHD;;AAKAV,QAAQG,EAAR,CAAY,aAAZ,EAA0B,kBAAU;AAClC,MAAMQ,OAAOJ,OAAOC,OAApB;AACAP,gBACG,cADH,EAEE,EAAEU,IAAF,EAAQD,SAASH,OAAOG,OAAxB,EAFF,EAGEH,OAAOK,MAAP,CAAcC,IAHhB;AAKD,CAPD;;AASAb,QAAQG,EAAR,CAAY,eAAZ,EAA4B,kBAAU;AACpC,MAAMW,SAASP,OAAOC,OAAtB;AACAP,gBACG,gBADH,EAEE,EAAEa,MAAF,EAAUJ,SAASH,OAAOG,OAA1B,EAFF,EAGEH,OAAOK,MAAP,CAAcC,IAHhB;AAKD,CAPD","file":"plugin-runner.js","sourcesContent":["// Invoke plugins for certain actions.\n\nconst { store, emitter } = require(`./index`)\nconst apiRunnerNode = require(`../utils/api-runner-node`)\nconst _ = require(`lodash`)\n\nemitter.on(`CREATE_NODE`, action => {\n  const node = store.getState().nodes[action.payload.id]\n  apiRunnerNode(`onCreateNode`, { node, traceId: action.traceId })\n})\n\nemitter.on(`CREATE_PAGE`, action => {\n  const page = action.payload\n  apiRunnerNode(\n    `onCreatePage`,\n    { page, traceId: action.traceId },\n    action.plugin.name\n  )\n})\n\nemitter.on(`CREATE_LAYOUT`, action => {\n  const layout = action.payload\n  apiRunnerNode(\n    `onCreateLayout`,\n    { layout, traceId: action.traceId },\n    action.plugin.name\n  )\n})\n"]}