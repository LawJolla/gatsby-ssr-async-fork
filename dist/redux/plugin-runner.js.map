{"version":3,"sources":["../../src/redux/plugin-runner.js"],"names":["store","emitter","require","apiRunnerNode","_","on","action","node","getState","nodes","payload","id","traceId","page","plugin","name","layout"],"mappings":";;AAAA;;AAEA,MAAM,EAAEA,KAAF,EAASC,OAAT,KAAqBC,QAAS,SAAT,CAA3B;AACA,MAAMC,gBAAgBD,QAAS,0BAAT,CAAtB;AACA,MAAME,IAAIF,QAAS,QAAT,CAAV;;AAEAD,QAAQI,EAAR,CAAY,aAAZ,EAA0BC,UAAU;AAClC,QAAMC,OAAOP,MAAMQ,QAAN,GAAiBC,KAAjB,CAAuBH,OAAOI,OAAP,CAAeC,EAAtC,CAAb;AACAR,gBAAe,cAAf,EAA8B,EAAEI,IAAF,EAAQK,SAASN,OAAOM,OAAxB,EAA9B;AACD,CAHD;;AAKAX,QAAQI,EAAR,CAAY,aAAZ,EAA0BC,UAAU;AAClC,QAAMO,OAAOP,OAAOI,OAApB;AACAP,gBACG,cADH,EAEE,EAAEU,IAAF,EAAQD,SAASN,OAAOM,OAAxB,EAFF,EAGEN,OAAOQ,MAAP,CAAcC,IAHhB;AAKD,CAPD;;AASAd,QAAQI,EAAR,CAAY,eAAZ,EAA4BC,UAAU;AACpC,QAAMU,SAASV,OAAOI,OAAtB;AACAP,gBACG,gBADH,EAEE,EAAEa,MAAF,EAAUJ,SAASN,OAAOM,OAA1B,EAFF,EAGEN,OAAOQ,MAAP,CAAcC,IAHhB;AAKD,CAPD","file":"plugin-runner.js","sourcesContent":["// Invoke plugins for certain actions.\n\nconst { store, emitter } = require(`./index`)\nconst apiRunnerNode = require(`../utils/api-runner-node`)\nconst _ = require(`lodash`)\n\nemitter.on(`CREATE_NODE`, action => {\n  const node = store.getState().nodes[action.payload.id]\n  apiRunnerNode(`onCreateNode`, { node, traceId: action.traceId })\n})\n\nemitter.on(`CREATE_PAGE`, action => {\n  const page = action.payload\n  apiRunnerNode(\n    `onCreatePage`,\n    { page, traceId: action.traceId },\n    action.plugin.name\n  )\n})\n\nemitter.on(`CREATE_LAYOUT`, action => {\n  const layout = action.payload\n  apiRunnerNode(\n    `onCreateLayout`,\n    { layout, traceId: action.traceId },\n    action.plugin.name\n  )\n})\n"]}